version: '3'

services:
  icecast:
    image: ghcr.io/mark-me/boelmuziek-icecast:v0.0.1
    container_name: icecast
    ports:
      - "8000:8000"
    networks:
      - music_stack

  # Add your host volumen in path/to/... or add your own volume below
  mpd:
    image: ghcr.io/mark-me/boelmuziek-mpd:v0.0.1
    container_name: mpd
    ports:
      - "6600:6600"
    depends_on:
      - icecast
    networks:
      - music_stack
    volumes:
      - /home/mark/Music:/var/lib/mpd/music
      - ./playlists:/var/lib/mpd/playlists
      - ./data:/var/lib/mpd/database

networks:
  music_stack:
    driver: bridge

# If you use your own volumes instead host volumes, uncomment this section
# volumes:
#   mpd_music:
#     external: true
#   mpd_playlists:
#     external: true
#   mpd_database:
#     external: true


